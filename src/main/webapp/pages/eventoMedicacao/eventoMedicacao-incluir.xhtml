<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui"
    template="/pages/template/default.xhtml"
    xmlns:pretty="http://ocpsoft.com/prettyfaces"
    xmlns:pe="http://primefaces.org/ui/extensions">

    <ui:define name="content">
    
    	<div class="calendario-mini">
						<p:schedule id="schedule" value="#{eventoMedicacaoManager.scheduleModel}" timeZone="America/Sao_Paulo" locale="pt" />
		</div>
    	<div class="incluir-editar">
	    	
	    	<h2>#{message['title.evento.medicacao']}</h2>
	        <h:form>
	        	<p:growl id="growl" life="4000" />
				<p:panel header="#{message['title.cadastro']}" id="painel">	
					<p:focus context="painel"/>
					
					<p:outputLabel for="atendimento" value="#{message['label.nome.paciente']}" styleClass="label" />
					<p:selectOneMenu id="atendimento" value="#{eventoMedicacaoManager.eventoMedicacao.atendimento}" converter="simpleEntityConverter" required="true" requiredMessage="#{message['span.obrigatorio.nomePaciente']}">
						<p:ajax  update="dt" /><p:ajax  update="hr" />
						<f:selectItem itemLabel="#{message['select.selecione.opcao']}" noSelectionOption="true"/>
						<f:selectItems value="#{atendimentoManager.obterLista()}" var="atendimento" itemLabel="#{atendimento.paciente.nomePaciente}" itemValue="#{atendimento}"/>
					</p:selectOneMenu>
					<br /><br />
					<p:separator />
					<div id="reserva">
						<h4>Periodo reservado</h4>
						<br />
						<p:outputLabel for="dt" value="Data" styleClass="label" />
						<h:outputText id="dt" value="#{eventoMedicacaoManager.eventoMedicacao.atendimento.dtPeriodo}" />
						<br /><br />
						<p:outputLabel for="hr" value="HorÃ¡rio" styleClass="label" />
						<h:outputText id="hr" value="#{eventoMedicacaoManager.eventoMedicacao.atendimento.hrIntervalo}" />						
					</div>
					<br /><br />
					<p:separator />
					<p:outputLabel for="remedio" value="#{message['label.medicamento.nome']}" styleClass="label" />
					<p:selectOneMenu id="remedio" value="#{eventoMedicacaoManager.medicademento}" converter="simpleEntityConverter" >
						<f:selectItem itemLabel="#{message['select.selecione.opcao']}" noSelectionOption="true"/>
						<f:selectItems value="#{medicamentoManager.obterLista()}" var="medicamento" itemLabel="#{medicamento.nome}" itemValue="#{medicamento}"/>
					</p:selectOneMenu>
					<br /><br />
										 
					<p:outputLabel for="diahora" value="#{message['label.evento.dataHora']}" styleClass="label"/>
        				<p:calendar id="diahora" value="#{eventoMedicacaoManager.eventoMedicacao.dataHora}" pattern="dd/MM/yyyy HH:mm" mask="true" showOn="button" disabledWeekends="false"/>
					<br /><br />
					<p:outputLabel for="descricao" value="#{message['label.evento.descricao']}" styleClass="label" />
					<p:inputTextarea id="descricao" rows="6" cols="33" value="#{eventoMedicacaoManager.eventoMedicacao.descricao}" required="true" requiredMessage="#{message['span.obrigatorio.endereco']}"/>
					<br/><br/>	
					<p:separator />
					<h4>Repetir evento</h4>
					<br />
					<p:outputLabel for="diaria" value="Diariamente" styleClass="label"/>
        			<p:selectBooleanCheckbox id="diaria" value="#{eventoMedicacaoManager.eventoMedicacao.transientRepetirDiariamente}" />							  
					<br/><br/>	     		
	        		<p:outputLabel for="repetir" value="#{message['label.evento.repetir']}" styleClass="label" />
					<p:inputNumber id="repetir" value="#{eventoMedicacaoManager.eventoMedicacao.transientFrequenciaEvento}" minValue="0" maxValue="24" cols="5">  
                    	<p:ajax update="repetir" />  
                	</p:inputNumber>  
					<br/><br/>
					     		       		
	        		<p:commandButton value="#{message['button.salvar']}" action="#{eventoMedicacaoManager.salvar()}" update="growl" />
	        		<p:button value="#{message['button.cancelar']}" outcome="pretty:eventoMedicacao" />
	        		<br /><br />
				</p:panel> 
			</h:form>
		</div>
    </ui:define>
</ui:composition>